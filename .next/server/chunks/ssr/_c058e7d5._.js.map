{"version":3,"sources":["turbopack:///[project]/node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/src/icons/loader-circle.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/src/icons/circle-check.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/src/icons/arrow-left.ts","turbopack:///[project]/components/ui/alert.tsx","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.454.0_react@19.2.0/node_modules/lucide-react/src/icons/external-link.ts","turbopack:///[project]/app/checkout/[productId]/page.tsx","turbopack:///[project]/lib/products.ts","turbopack:///[project]/lib/beta-config.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name LoaderCircle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTJhOSA5IDAgMSAxLTYuMjE5LTguNTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/loader-circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LoaderCircle = createLucideIcon('LoaderCircle', [\n  ['path', { d: 'M21 12a9 9 0 1 1-6.219-8.56', key: '13zald' }],\n]);\n\nexport default LoaderCircle;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CircleCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtOSAxMiAyIDIgNC00IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/circle-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleCheck = createLucideIcon('CircleCheck', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n]);\n\nexport default CircleCheck;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('ArrowLeft', [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n]);\n\nexport default ArrowLeft;\n","import * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst alertVariants = cva(\n  'relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current',\n  {\n    variants: {\n      variant: {\n        default: 'bg-card text-card-foreground',\n        destructive:\n          'text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        'col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        'text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ExternalLink\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTUgM2g2djYiIC8+CiAgPHBhdGggZD0iTTEwIDE0IDIxIDMiIC8+CiAgPHBhdGggZD0iTTE4IDEzdjZhMiAyIDAgMCAxLTIgMkg1YTIgMiAwIDAgMS0yLTJWOGEyIDIgMCAwIDEgMi0yaDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/external-link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ExternalLink = createLucideIcon('ExternalLink', [\n  ['path', { d: 'M15 3h6v6', key: '1q9fwt' }],\n  ['path', { d: 'M10 14 21 3', key: 'gplh6r' }],\n  ['path', { d: 'M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6', key: 'a6xqqp' }],\n]);\n\nexport default ExternalLink;\n","\"use client\"\n\nimport { notFound, useRouter, useSearchParams } from \"next/navigation\"\nimport { PRODUCTS } from \"@/lib/products\"\nimport { ArrowLeft, Loader2, LogIn, CheckCircle2, ExternalLink } from \"lucide-react\"\nimport Link from \"next/link\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { BETA_CONFIG } from \"@/lib/beta-config\"\nimport { use, useEffect, useState, Suspense } from \"react\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\n\nfunction CheckoutFlow({ productId }: { productId: string }) {\n  const router = useRouter()\n  const searchParams = useSearchParams()\n  const product = PRODUCTS.find((p) => p.id === productId)\n  const [user, setUser] = useState<any>(null)\n  const [loading, setLoading] = useState(true)\n  const [isPaying, setIsPaying] = useState(false)\n  \n  // 新增：如果跳转失败，显示手动支付链接\n  const [manualPayUrl, setManualPayUrl] = useState<string | null>(null)\n\n  const billing = searchParams.get(\"billing\") || \"monthly\"\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const supabase = createClient()\n        let supabaseUser = null\n        if (supabase) {\n          const { data } = await supabase.auth.getUser()\n          supabaseUser = data.user\n        }\n        \n        if (supabaseUser) {\n          setUser(supabaseUser)\n        } else {\n          const localUser = localStorage.getItem('currentUser')\n          if (localUser) {\n            try {\n              setUser(JSON.parse(localUser))\n            } catch (e) { console.error(e) }\n          }\n        }\n      } catch (error) { console.error(error) } \n      finally { setLoading(false) }\n    }\n    checkAuth()\n  }, [])\n\n  if (!product) { notFound() }\n\n  const displayPrice = product.priceInCents\n  const checkoutUrl = `/checkout/${productId}?billing=${billing}`\n  const loginRedirectUrl = `/login?redirect=${encodeURIComponent(checkoutUrl)}`\n\n  // ==========================================\n  // 强力跳转修复版\n  // ==========================================\n  const handlePayment = async (type: \"alipay\" | \"wechat\") => {\n    setManualPayUrl(null); // 重置\n    if (!user) {\n      router.push(loginRedirectUrl)\n      return\n    }\n\n    setIsPaying(true)\n\n    try {\n      const userId = user.id || user.sub || user.user_id;\n      if (!userId) {\n          alert(\"无法获取用户信息，请重新登录\")\n          router.push(loginRedirectUrl);\n          setIsPaying(false); \n          return\n      }\n\n      const apiUrl = `/api/payment/xunhupay/create?productId=${productId}&type=${type}&billing=${billing}&userId=${userId}`\n      console.log(\"正在请求:\", apiUrl);\n      \n      const res = await fetch(apiUrl)\n      const data = await res.json()\n      \n      console.log(\"API响应:\", data);\n\n      if (!res.ok) {\n        throw new Error(data.error || \"请求失败\")\n      }\n\n      const redirectUrl = data.url || data.pay_url || data.link;\n\n      if (redirectUrl) {\n        console.log(\"✅ 获取链接成功，准备跳转:\", redirectUrl);\n        \n        // --- 方案 A: 模拟点击 (兼容性最好) ---\n        const link = document.createElement('a');\n        link.href = redirectUrl;\n        // 如果是微信支付，有些浏览器要求必须在当前页打开才能唤起App\n        // 但如果卡住，我们可以尝试 target=\"_blank\"\n        link.target = '_self'; \n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n\n        // --- 方案 B: 保底策略 ---\n        // 如果 2秒后还在当前页面，说明跳转被拦截了\n        // 我们显示一个手动点击的按钮\n        setTimeout(() => {\n           setIsPaying(false);\n           setManualPayUrl(redirectUrl);\n           console.log(\"⚠️ 跳转似乎被拦截，已切换为手动模式\");\n        }, 2000);\n\n      } else {\n        throw new Error(\"未返回支付链接\")\n      }\n\n    } catch (e: any) {\n      console.error(e)\n      alert(\"支付初始化失败: \" + e.message)\n      setIsPaying(false) \n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-b from-background to-muted/20 flex items-center justify-center\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-background to-muted/20\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <Link href=\"/#pricing\" className=\"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground mb-8\">\n          <ArrowLeft className=\"h-4 w-4\" /> 返回定价\n        </Link>\n\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"bg-card rounded-2xl shadow-lg p-8 mb-8\">\n            <h1 className=\"text-3xl font-bold mb-2\">{product.name}</h1>\n            <p className=\"text-muted-foreground mb-4\">{product.description}</p>\n            <div className=\"text-4xl font-bold text-primary mb-6\">\n              ¥{(displayPrice / 100).toFixed(2)}\n              <span className=\"text-lg text-muted-foreground ml-2\">/ {billing === \"annual\" ? \"年\" : billing === \"monthly\" ? \"月\" : \"次\"}</span>\n            </div>\n          </div>\n\n          {/* 如果自动跳转失败，显示这个手动支付框 */}\n          {manualPayUrl && (\n             <Alert className=\"mb-6 border-green-200 bg-green-50\">\n              <CheckCircle2 className=\"h-4 w-4 text-green-600\" />\n              <AlertDescription className=\"text-green-900 flex items-center gap-2\">\n                支付链接已生成！如果浏览器未自动跳转，请点击：\n                <a href={manualPayUrl} className=\"font-bold underline flex items-center\" target=\"_blank\" rel=\"noopener noreferrer\">\n                  立即前往支付 <ExternalLink className=\"h-3 w-3 ml-1\"/>\n                </a>\n              </AlertDescription>\n            </Alert>\n          )}\n\n          <div className=\"bg-card rounded-2xl shadow-lg p-8\">\n            <h2 className=\"text-xl font-semibold mb-4\">选择支付方式</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\n              \n              <Button\n                variant=\"outline\"\n                className=\"h-auto py-4 flex flex-col items-center gap-2\"\n                onClick={() => handlePayment(\"alipay\")}\n                disabled={!BETA_CONFIG.payment.xunhupay || isPaying} \n              >\n                {isPaying ? <Loader2 className=\"h-6 w-6 animate-spin text-primary\" /> : (\n                  <>\n                  <svg className=\"h-8 w-8\" viewBox=\"0 0 24 24\" fill={BETA_CONFIG.payment.xunhupay ? \"#1677FF\" : \"#999\"}>\n                    <path d=\"M18.277 3H5.723A2.723 2.723 0 003 5.723v12.554A2.723 2.723 0 005.723 21h12.554A2.723 2.723 0 0021 18.277V5.723A2.723 2.723 0 0018.277 3zm1.305 13.739c-1.134.452-2.344.804-3.604 1.044-.975-1.127-1.82-2.408-2.504-3.808h3.208v-1.283h-3.77v-1.095h3.77V10.31h-3.77V9.215h3.77V7.932h-8.285v1.283h3.77v1.095h-3.77v1.287h3.77v1.283h-3.77c-.684 1.4-1.529 2.681-2.504 3.808-1.26-.24-2.47-.592-3.604-1.044v-2.168h8.285v-1.283H4.418V9.215h8.285V7.932H4.418V5.723c0-.753.61-1.363 1.363-1.363h12.438c.753 0 1.363.61 1.363 1.363v11.016z\" />\n                  </svg>\n                  <span className=\"font-medium text-sm\">支付宝</span>\n                  </>\n                )}\n              </Button>\n\n              <Button\n                variant=\"outline\"\n                className=\"h-auto py-4 flex flex-col items-center gap-2\"\n                onClick={() => handlePayment(\"wechat\")}\n                disabled={!BETA_CONFIG.payment.xunhupay || isPaying}\n              >\n                {isPaying ? <Loader2 className=\"h-6 w-6 animate-spin text-primary\" /> : (\n                  <>\n                  <svg className=\"h-8 w-8\" viewBox=\"0 0 24 24\" fill={BETA_CONFIG.payment.xunhupay ? \"#07C160\" : \"#999\"}>\n                    <path d=\"M8.691 2.188C3.891 2.188 0 5.476 0 9.53c0 2.212 1.17 4.203 3.002 5.55a.59.59 0 0 1 .213.665l-.39 1.48c-.019.07-.048.141-.048.213 0 .163.13.295.29.295a.326.326 0 0 0 .167-.054l1.903-1.114a.864.864 0 0 1 .717-.098 10.16 10.16 0 0 0 2.837.403c.276 0 .543-.027.811-.05-.857-2.578.157-4.972 1.932-6.446 1.703-1.415 3.882-1.98 5.853-1.838-.576-3.583-4.196-6.348-8.596-6.348zM5.785 5.991c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 0 1-1.162 1.178A1.17 1.17 0 0 1 4.623 7.17c0-.651.52-1.18 1.162-1.18zm5.813 0c.642 0 1.162.529 1.162 1.18a1.17 1.17 0 0 1-1.162 1.178 1.17 1.17 0 0 1-1.162-1.178c0-.651.52-1.18 1.162-1.18zm5.34 2.867c-1.797-.052-3.746.512-5.28 1.786-1.72 1.428-2.687 3.72-1.78 6.22.942 2.453 3.666 4.229 6.884 4.229.826 0 1.622-.12 2.361-.336a.722.722 0 0 1 .598.082l1.584.926a.272.272 0 0 0 .14.047c.134 0 .24-.111.24-.247 0-.06-.023-.12-.038-.177l-.327-1.233a.582.582 0 0 1-.023-.156.49.49 0 0 1 .201-.398C23.024 18.48 24 16.82 24 14.98c0-3.21-2.931-5.837-6.656-6.088V8.89c-.135-.01-.27-.027-.407-.03zm-2.53 3.274c.535 0 .969.44.969.982a.976.976 0 0 1-.969.983.976.976 0 0 1-.969-.983c0-.542.434-.982.969-.982zm4.844 0c.535 0 .969.44.969.982a.976.976 0 0 1-.969.983.976.976 0 0 1-.969-.983c0-.542.434-.982.969-.982z\" />\n                  </svg>\n                  <span className=\"font-medium text-sm\">微信支付</span>\n                  </>\n                )}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default function CheckoutPage({ params }: { params: Promise<{ productId: string }> }) {\n  const { productId } = use(params)\n  return (\n    <Suspense fallback={<div>Loading...</div>}>\n      <CheckoutFlow productId={productId} />\n    </Suspense>\n  )\n}","export interface Product {\n  id: string\n  name: string\n  description: string\n  priceInCents: number // 价格（单位：分）\n  features: string[]\n  popular?: boolean\n}\n\n// 产品目录 - 所有价格的唯一真实来源\n// [!!!] 修复：这里的 ID 必须与 pricing.tsx 中的 ID 完全匹配 [!!!]\nexport const PRODUCTS: Product[] = [\n  // --- 订阅方案 (来自 pricing.tsx) ---\n  {\n    id: \"basic\",\n    name: \"基础版\",\n    description: \"适合入门体验\",\n    priceInCents: 2800, // 28 元 * 100\n    features: [\"每月 2,000 积分\", \"调用所有 AI 模型\", \"标准生成速度\", \"社区支持\", \"调用专业智能体\"],\n  },\n  {\n    id: \"pro\",\n    name: \"专业版\",\n    description: \"适合高频学生\",\n    priceInCents: 6800, // 68 元 * 100\n    features: [\n      \"每月 5,000 积分\",\n      \"调用所有 AI 模型\",\n      \"优先生成速度\",\n      \"高级润色工具\",\n      \"名师辅导 (1次/月)\",\n      \"调用专业智能体\",\n    ],\n    popular: true,\n  },\n  {\n    id: \"premium\",\n    name: \"豪华版\",\n    description: \"适合重度用户/教育者\",\n    priceInCents: 12800, // 128 元 * 100\n    features: [\n      \"每月 12,000 积分\",\n      \"调用三大顶尖模型\",\n      \"最高优先速度\",\n      \"高级润色工具\",\n      \"名师辅导 (2次/月)\",\n      \"无限次 AI 对话\",\n      \"调用专业智能体\",\n    ],\n  },\n\n  // --- 积分充值包 (来自 pricing.tsx) ---\n  {\n    id: \"credits-500\",\n    name: \"500 积分充值包\",\n    description: \"永久有效，适合轻度或测试用户\",\n    priceInCents: 500, // 5 元 * 100\n    features: [\"500 积分\", \"永久有效\", \"可用于生成作文或兑换辅导\"],\n  },\n  {\n    id: \"credits-1000\",\n    name: \"1000 积分充值包\",\n    description: \"永久有效，适合轻度或测试用户\",\n    priceInCents: 1000, // 10 元 * 100\n    features: [\"1000 积分\", \"永久有效\", \"可用于生成作文或兑换辅导\"],\n  },\n  {\n    id: \"credits-5000\",\n    name: \"5000 积分充值包\",\n    description: \"永久有效 (96折优惠)\",\n    priceInCents: 4800, // 48 元 * 100\n    features: [\"5000 积分\", \"永久有效\", \"可用于生成作文或兑换辅导\"],\n  },\n  {\n    id: \"credits-10000\",\n    name: \"10000 积分充值包\",\n    description: \"永久有效 (9折优惠)\",\n    priceInCents: 9000, // 90 元 * 100\n    features: [\"10000 积分\", \"永久有效\", \"可用于生成作文或兑换辅导\"],\n  },\n]","// 公测配置 - 控制哪些功能在公测期间可用\nexport const BETA_CONFIG = {\n  // 认证功能\n  auth: {\n    email: true, // 邮箱登录 - 已配置\n    phone: false, // 手机验证码 - 等待短信服务商审核\n    wechat: false, // 微信登录 - 等待微信开放平台审核\n  },\n  // 支付功能\n  payment: {\n    stripe: true, // Stripe国际支付 - 已配置\n    alipay: false, // 支付宝 - 等待支付宝开放平台审核\n    wechatPay: false, // 微信支付 - 等待微信支付商户审核\n    xunhupay: true, // 迅虎支付 - 已配置（支付宝+微信）\n  },\n  // 核心功能（始终可用）\n  core: {\n    aiChat: true, // AI聊天\n    essayReview: true, // 作文批改\n    fileUpload: true, // 文件上传\n    history: true, // 历史记录\n  },\n}\n\n// 获取功能状态文本\nexport function getFeatureStatus(enabled: boolean): {\n  text: string\n  color: string\n  badge: string\n} {\n  if (enabled) {\n    return {\n      text: \"可用\",\n      color: \"text-green-600\",\n      badge: \"bg-green-100 text-green-700\",\n    }\n  }\n  return {\n    text: \"即将上线\",\n    color: \"text-orange-600\",\n    badge: \"bg-orange-100 text-orange-700\",\n  }\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,4]}