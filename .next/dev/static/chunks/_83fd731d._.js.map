{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/aixingren/ai-essay-editor/lib/products.ts"],"sourcesContent":["export interface Product {\n  id: string\n  name: string\n  description: string\n  priceInCents: number // 价格（单位：分）\n  features: string[]\n  popular?: boolean\n}\n\n// 产品目录 - 所有价格的唯一真实来源\n// [!!!] 修复：这里的 ID 必须与 pricing.tsx 中的 ID 完全匹配 [!!!]\nexport const PRODUCTS: Product[] = [\n  // --- 订阅方案 (来自 pricing.tsx) ---\n  {\n    id: \"basic\",\n    name: \"基础版\",\n    description: \"适合入门体验\",\n    priceInCents: 2800, // 28 元 * 100\n    features: [\"每月 2,000 积分\", \"调用所有 AI 模型\", \"标准生成速度\", \"社区支持\", \"调用专业智能体\"],\n  },\n  {\n    id: \"pro\",\n    name: \"专业版\",\n    description: \"适合高频学生\",\n    priceInCents: 6800, // 68 元 * 100\n    features: [\n      \"每月 5,000 积分\",\n      \"调用所有 AI 模型\",\n      \"优先生成速度\",\n      \"高级润色工具\",\n      \"名师辅导 (1次/月)\",\n      \"调用专业智能体\",\n    ],\n    popular: true,\n  },\n  {\n    id: \"premium\",\n    name: \"豪华版\",\n    description: \"适合重度用户/教育者\",\n    priceInCents: 12800, // 128 元 * 100\n    features: [\n      \"每月 12,000 积分\",\n      \"调用三大顶尖模型\",\n      \"最高优先速度\",\n      \"高级润色工具\",\n      \"名师辅导 (2次/月)\",\n      \"无限次 AI 对话\",\n      \"调用专业智能体\",\n    ],\n  },\n\n  // --- 积分充值包 (来自 pricing.tsx) ---\n  {\n    id: \"credits-500\",\n    name: \"500 积分充值包\",\n    description: \"永久有效，适合轻度或测试用户\",\n    priceInCents: 500, // 5 元 * 100\n    features: [\"500 积分\", \"永久有效\", \"可用于生成作文或兑换辅导\"],\n  },\n  {\n    id: \"credits-1000\",\n    name: \"1000 积分充值包\",\n    description: \"永久有效，适合轻度或测试用户\",\n    priceInCents: 1000, // 10 元 * 100\n    features: [\"1000 积分\", \"永久有效\", \"可用于生成作文或兑换辅导\"],\n  },\n  {\n    id: \"credits-5000\",\n    name: \"5000 积分充值包\",\n    description: \"永久有效 (96折优惠)\",\n    priceInCents: 4800, // 48 元 * 100\n    features: [\"5000 积分\", \"永久有效\", \"可用于生成作文或兑换辅导\"],\n  },\n  {\n    id: \"credits-10000\",\n    name: \"10000 积分充值包\",\n    description: \"永久有效 (9折优惠)\",\n    priceInCents: 9000, // 90 元 * 100\n    features: [\"10000 积分\", \"永久有效\", \"可用于生成作文或兑换辅导\"],\n  },\n]"],"names":[],"mappings":";;;;AAWO,MAAM,WAAsB;IACjC,gCAAgC;IAChC;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,cAAc;QACd,UAAU;YAAC;YAAe;YAAc;YAAU;YAAQ;SAAU;IACtE;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,cAAc;QACd,UAAU;YACR;YACA;YACA;YACA;YACA;YACA;SACD;QACD,SAAS;IACX;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,cAAc;QACd,UAAU;YACR;YACA;YACA;YACA;YACA;YACA;YACA;SACD;IACH;IAEA,iCAAiC;IACjC;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,cAAc;QACd,UAAU;YAAC;YAAU;YAAQ;SAAe;IAC9C;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,cAAc;QACd,UAAU;YAAC;YAAW;YAAQ;SAAe;IAC/C;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,cAAc;QACd,UAAU;YAAC;YAAW;YAAQ;SAAe;IAC/C;IACA;QACE,IAAI;QACJ,MAAM;QACN,aAAa;QACb,cAAc;QACd,UAAU;YAAC;YAAY;YAAQ;SAAe;IAChD;CACD","debugId":null}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/aixingren/ai-essay-editor/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS","debugId":null}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///Users/aixingren/ai-essay-editor/lib/beta-config.ts"],"sourcesContent":["// 公测配置 - 控制哪些功能在公测期间可用\nexport const BETA_CONFIG = {\n  // 认证功能\n  auth: {\n    email: true, // 邮箱登录 - 已配置\n    phone: false, // 手机验证码 - 等待短信服务商审核\n    wechat: false, // 微信登录 - 等待微信开放平台审核\n  },\n  // 支付功能\n  payment: {\n    stripe: true, // Stripe国际支付 - 已配置\n    alipay: false, // 支付宝 - 等待支付宝开放平台审核\n    wechatPay: false, // 微信支付 - 等待微信支付商户审核\n    xunhupay: true, // 迅虎支付 - 已配置（支付宝+微信）\n  },\n  // 核心功能（始终可用）\n  core: {\n    aiChat: true, // AI聊天\n    essayReview: true, // 作文批改\n    fileUpload: true, // 文件上传\n    history: true, // 历史记录\n  },\n}\n\n// 获取功能状态文本\nexport function getFeatureStatus(enabled: boolean): {\n  text: string\n  color: string\n  badge: string\n} {\n  if (enabled) {\n    return {\n      text: \"可用\",\n      color: \"text-green-600\",\n      badge: \"bg-green-100 text-green-700\",\n    }\n  }\n  return {\n    text: \"即将上线\",\n    color: \"text-orange-600\",\n    badge: \"bg-orange-100 text-orange-700\",\n  }\n}\n"],"names":[],"mappings":"AAAA,uBAAuB;;;;;;;AAChB,MAAM,cAAc;IACzB,OAAO;IACP,MAAM;QACJ,OAAO;QACP,OAAO;QACP,QAAQ;IACV;IACA,OAAO;IACP,SAAS;QACP,QAAQ;QACR,QAAQ;QACR,WAAW;QACX,UAAU;IACZ;IACA,aAAa;IACb,MAAM;QACJ,QAAQ;QACR,aAAa;QACb,YAAY;QACZ,SAAS;IACX;AACF;AAGO,SAAS,iBAAiB,OAAgB;IAK/C,IAAI,SAAS;QACX,OAAO;YACL,MAAM;YACN,OAAO;YACP,OAAO;QACT;IACF;IACA,OAAO;QACL,MAAM;QACN,OAAO;QACP,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///Users/aixingren/ai-essay-editor/app/actions/stripe.ts"],"sourcesContent":["\"use server\"\n\nimport { stripe } from \"@/lib/stripe\"\nimport { PRODUCTS } from \"@/lib/products\"\n\nexport async function startCheckoutSession(productId: string) {\n  if (!stripe) {\n    throw new Error(\"Stripe 未配置，请使用其他支付方式\")\n  }\n\n  const product = PRODUCTS.find((p) => p.id === productId)\n\n  if (!product) {\n    throw new Error(`产品 \"${productId}\" 不存在`)\n  }\n\n  if (product.priceInCents === 0) {\n    throw new Error(\"免费产品无需支付\")\n  }\n\n  try {\n    // 创建Stripe结账会话，支持多种支付方式\n    const session = await stripe.checkout.sessions.create({\n      ui_mode: \"embedded\",\n      redirect_on_completion: \"never\",\n      line_items: [\n        {\n          price_data: {\n            currency: \"cny\", // 使用人民币\n            product_data: {\n              name: product.name,\n              description: product.description,\n            },\n            unit_amount: product.priceInCents,\n          },\n          quantity: 1,\n        },\n      ],\n      mode: \"payment\",\n      payment_method_types: [\"card\"],\n    })\n\n    return session.client_secret\n  } catch (error: any) {\n    console.error(\"[v0] Stripe session creation error:\", error)\n    throw new Error(error?.message || \"创建支付会话失败\")\n  }\n}\n\nexport async function getPaymentStatus(sessionId: string) {\n  if (!stripe) {\n    throw new Error(\"Stripe 未配置\")\n  }\n\n  const session = await stripe.checkout.sessions.retrieve(sessionId)\n  return {\n    status: session.status,\n    payment_status: session.payment_status,\n    customer_email: session.customer_details?.email,\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAKsB,uBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///Users/aixingren/ai-essay-editor/components/checkout.tsx"],"sourcesContent":["\"use client\"\n\nimport { useCallback, useState, useEffect } from \"react\"\nimport { EmbeddedCheckout, EmbeddedCheckoutProvider } from \"@stripe/react-stripe-js\"\nimport { loadStripe } from \"@stripe/stripe-js\"\nimport { Loader2, AlertCircle } from \"lucide-react\"\n\nimport { startCheckoutSession } from \"@/app/actions/stripe\"\n\nconst stripePromise = process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY\n  ? loadStripe(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY)\n  : null\n\nexport default function Checkout({ productId }: { productId: string }) {\n  const [isReady, setIsReady] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [checkoutError, setCheckoutError] = useState<string | null>(null)\n\n  const fetchClientSecret = useCallback(async () => {\n    try {\n      const clientSecret = await startCheckoutSession(productId)\n      if (!clientSecret) {\n        throw new Error(\"无法创建支付会话\")\n      }\n      return clientSecret\n    } catch (err: any) {\n      console.error(\"[v0] Stripe checkout error:\", err)\n      setCheckoutError(err?.message || \"支付初始化失败\")\n      throw err\n    }\n  }, [productId])\n\n  useEffect(() => {\n    if (!process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY) {\n      setError(\"Stripe 未配置\")\n      return\n    }\n    setIsReady(true)\n  }, [])\n\n  if (error || checkoutError) {\n    return (\n      <div className=\"w-full p-4 bg-orange-50 border border-orange-200 rounded-lg flex items-start gap-3\">\n        <AlertCircle className=\"h-5 w-5 text-orange-600 flex-shrink-0 mt-0.5\" />\n        <div>\n          <p className=\"text-sm font-medium text-orange-800\">Stripe 支付暂时不可用</p>\n          <p className=\"text-sm text-orange-700 mt-1\">\n            {error || checkoutError || \"请使用上方的迅虎支付宝或微信支付。\"}\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  if (!isReady || !stripePromise) {\n    return (\n      <div className=\"w-full flex items-center justify-center py-8\">\n        <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\n        <span className=\"ml-2 text-muted-foreground\">加载支付组件...</span>\n      </div>\n    )\n  }\n\n  return (\n    <div id=\"checkout\" className=\"w-full\">\n      <EmbeddedCheckoutProvider stripe={stripePromise} options={{ fetchClientSecret }}>\n        <EmbeddedCheckout />\n      </EmbeddedCheckoutProvider>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AASsB;;AAPtB;AACA;AACA;AAAA;AACA;AAAA;AAEA;;;AAPA;;;;;;AASA,MAAM,gBAAgB,2KAAO,CAAC,GAAG,CAAC,kCAAkC,GAChE,IAAA,2KAAU,EAAC,2KAAO,CAAC,GAAG,CAAC,kCAAkC,IACzD;AAEW,SAAS,SAAS,EAAE,SAAS,EAAyB;;IACnE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAClD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAgB;IAElE,MAAM,oBAAoB,IAAA,4KAAW;mDAAC;YACpC,IAAI;gBACF,MAAM,eAAe,MAAM,IAAA,iLAAoB,EAAC;gBAChD,IAAI,CAAC,cAAc;oBACjB,MAAM,IAAI,MAAM;gBAClB;gBACA,OAAO;YACT,EAAE,OAAO,KAAU;gBACjB,QAAQ,KAAK,CAAC,+BAA+B;gBAC7C,iBAAiB,KAAK,WAAW;gBACjC,MAAM;YACR;QACF;kDAAG;QAAC;KAAU;IAEd,IAAA,0KAAS;8BAAC;YACR,IAAI,CAAC,2KAAO,CAAC,GAAG,CAAC,kCAAkC,EAAE;gBACnD,SAAS;gBACT;YACF;YACA,WAAW;QACb;6BAAG,EAAE;IAEL,IAAI,SAAS,eAAe;QAC1B,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC,sOAAW;oBAAC,WAAU;;;;;;8BACvB,6LAAC;;sCACC,6LAAC;4BAAE,WAAU;sCAAsC;;;;;;sCACnD,6LAAC;4BAAE,WAAU;sCACV,SAAS,iBAAiB;;;;;;;;;;;;;;;;;;IAKrC;IAEA,IAAI,CAAC,WAAW,CAAC,eAAe;QAC9B,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC,+NAAO;oBAAC,WAAU;;;;;;8BACnB,6LAAC;oBAAK,WAAU;8BAA6B;;;;;;;;;;;;IAGnD;IAEA,qBACE,6LAAC;QAAI,IAAG;QAAW,WAAU;kBAC3B,cAAA,6LAAC,mNAAwB;YAAC,QAAQ;YAAe,SAAS;gBAAE;YAAkB;sBAC5E,cAAA,6LAAC,2MAAgB;;;;;;;;;;;;;;;AAIzB;GAzDwB;KAAA","debugId":null}},
    {"offset": {"line": 379, "column": 0}, "map": {"version":3,"sources":["file:///Users/aixingren/ai-essay-editor/app/checkout/%5BproductId%5D/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { notFound, useRouter, useSearchParams } from \"next/navigation\"\nimport { PRODUCTS } from \"@/lib/products\"\nimport { ArrowLeft, Loader2, LogIn } from \"lucide-react\"\nimport Link from \"next/link\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { BETA_CONFIG } from \"@/lib/beta-config\"\nimport { use, useEffect, useState, Suspense } from \"react\"\nimport { createClient } from \"@/lib/supabase/client\"\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\nimport Checkout from \"@/components/checkout\"\n\nfunction CheckoutFlow({ productId }: { productId: string }) {\n  const router = useRouter()\n  const searchParams = useSearchParams()\n  const product = PRODUCTS.find((p) => p.id === productId)\n  const [user, setUser] = useState<any>(null)\n  const [loading, setLoading] = useState(true)\n  const [isPaying, setIsPaying] = useState(false)\n\n  const billing = searchParams.get(\"billing\") || \"monthly\"\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const supabase = createClient()\n        let supabaseUser = null\n        if (supabase) {\n          const { data } = await supabase.auth.getUser()\n          supabaseUser = data.user\n        }\n        \n        if (supabaseUser) {\n          setUser(supabaseUser)\n        } else {\n          const localUser = localStorage.getItem('currentUser')\n          if (localUser) {\n            try {\n              setUser(JSON.parse(localUser))\n            } catch (e) { console.error(e) }\n          }\n        }\n      } catch (error) { console.error(error) } \n      finally { setLoading(false) }\n    }\n    checkAuth()\n  }, [])\n\n  if (!product) { notFound() }\n\n  const displayPrice = product.priceInCents\n\n  if (loading) {\n    return <div className=\"min-h-screen flex items-center justify-center\">正在加载...</div>\n  }\n\n  const checkoutUrl = `/checkout/${productId}?billing=${billing}`\n  const loginRedirectUrl = `/login?redirect=${encodeURIComponent(checkoutUrl)}`\n\n  // 核心修复逻辑：诊断版支付函数\n  const handlePayment = async (type: \"alipay\" | \"wechat\") => {\n    if (!user) {\n      router.push(loginRedirectUrl)\n      return\n    }\n\n    setIsPaying(true)\n\n    try {\n      const userId = user.id || user.sub || user.user_id;\n      if (!userId) {\n          alert(\"错误：无法获取用户ID，请重新登录\")\n          setIsPaying(false)\n          return\n      }\n\n      // 1. 主动请求 API (而不是直接跳转)\n      // 这样我们就能捕获后端的错误信息\n      const apiUrl = `/api/payment/xunhupay/create?productId=${productId}&type=${type}&billing=${billing}&userId=${userId}`\n      \n      console.log(\"正在请求支付接口:\", apiUrl)\n      const res = await fetch(apiUrl)\n      \n      // 2. 解析结果\n      const data = await res.json()\n\n      if (!res.ok) {\n        // 如果服务器报错，直接弹窗显示错误原因！\n        throw new Error(data.error || \"请求失败\")\n      }\n\n      if (data.url) {\n        // 3. 成功！跳转支付\n        window.location.href = data.url\n      } else {\n        throw new Error(\"未返回支付链接\")\n      }\n\n    } catch (e: any) {\n      // 4. 捕获所有错误并显示\n      console.error(e)\n      alert(\"支付启动失败: \" + e.message)\n      setIsPaying(false) // 停止转圈，让用户可以重试\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-background to-muted/20\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <Link href=\"/#pricing\" className=\"inline-flex items-center gap-2 text-sm text-muted-foreground mb-8\">\n          <ArrowLeft className=\"h-4 w-4\" /> 返回定价\n        </Link>\n\n        <div className=\"max-w-4xl mx-auto\">\n          <div className=\"bg-card rounded-2xl shadow-lg p-8 mb-8\">\n            <h1 className=\"text-3xl font-bold mb-2\">{product.name}</h1>\n            <div className=\"text-4xl font-bold text-primary mb-6\">\n              ¥{(displayPrice / 100).toFixed(2)}\n            </div>\n            {!user && BETA_CONFIG.payment.xunhupay && (\n                <div className=\"text-red-500 text-sm mb-4\">请先登录后购买</div>\n            )}\n            \n            <h2 className=\"text-xl font-semibold mb-4\">选择支付方式</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n              <Button\n                variant=\"outline\"\n                className=\"h-auto py-4 flex flex-col items-center gap-2\"\n                onClick={() => handlePayment(\"alipay\")}\n                disabled={!BETA_CONFIG.payment.xunhupay || isPaying} \n              >\n                {isPaying ? <Loader2 className=\"h-6 w-6 animate-spin\" /> : \"支付宝\"}\n              </Button>\n\n              <Button\n                variant=\"outline\"\n                className=\"h-auto py-4 flex flex-col items-center gap-2\"\n                onClick={() => handlePayment(\"wechat\")}\n                disabled={!BETA_CONFIG.payment.xunhupay || isPaying}\n              >\n                {isPaying ? <Loader2 className=\"h-6 w-6 animate-spin\" /> : \"微信支付\"}\n              </Button>\n            </div>\n          </div>\n          \n           {/* Stripe 支付 */}\n            <div className=\"border-t pt-6 mt-6\">\n              <div className=\"text-sm font-medium mb-2 flex items-center gap-2\">\n                国际卡支付\n                <Badge variant=\"secondary\" className=\"bg-green-100 text-green-700 text-xs\">\n                  Stripe\n                </Badge>\n              </div>\n              <Checkout productId={productId} />\n            </div>\n\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default function CheckoutPage({ params }: { params: Promise<{ productId: string }> }) {\n  const { productId } = use(params)\n  return (\n    <Suspense fallback={<div>Loading...</div>}>\n      <CheckoutFlow productId={productId} />\n    </Suspense>\n  )\n}"],"names":[],"mappings":"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","debugId":null}}]
}