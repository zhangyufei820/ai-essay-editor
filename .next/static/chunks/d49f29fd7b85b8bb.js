(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,13019,e=>{"use strict";e.i(30990);var t=e.i(62893),s=e.i(58846),a=e.i(78824),r=e.i(67881),n=e.i(84762),i=e.i(57276),l=e.i(90793),o=e.i(34290),d=e.i(62412),c=e.i(10965);let u=(0,c.default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var x=e.i(90768),m=e.i(60813);let h=(0,c.default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),p=(0,c.default)("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);var g=e.i(87524);let f=(0,c.default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),y=(0,c.default)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),b=(0,c.default)("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]),j=(0,c.default)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),k=(0,c.default)("AudioLines",[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]]),v=(0,c.default)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var w=e.i(25441),N=e.i(47163),T=e.i(95403),C=e.i(72809),_=e.i(90864),S=e.i(93166),F=e.i(75871);let M="#4CAF50",E="rgba(76, 175, 80, 0.08)",D={50:"#FAFAFA",100:"#F5F5F5",200:"#EEEEEE",300:"#E0E0E0",400:"#BDBDBD",500:"#9E9E9E",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},R={bg:"#E8F5E9",text:"#2E7D32"},$={bg:"#E3F2FD",text:"#1976D2"},A={bg:"#FFF3E0",text:"#F57C00"},I={bg:"#F3E5F5",text:"#7B1FA2"};function P({text:e}){let s=(e=>{switch(e){case"推荐":return{backgroundColor:R.bg,color:R.text};case"新":return{backgroundColor:$.bg,color:$.text};case"热门":return{backgroundColor:A.bg,color:A.text};case"Pro":return{backgroundColor:I.bg,color:I.text};default:return{backgroundColor:D[100],color:D[600]}}})(e);return(0,t.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-medium rounded-full",style:s,children:e})}function O({selectedModel:e,onModelChange:a,models:r,disabled:n,className:i,dailyFreeInfo:l}){let[o,d]=(0,s.useState)(!1),c=(0,s.useRef)(null),u=r.find(t=>t.key===e);(0,s.useEffect)(()=>{let e=e=>{c.current&&!c.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let x=r.reduce((e,t)=>{let s=t.group||"默认";return e[s]||(e[s]=[]),e[s].push(t),e},{}),m=Object.keys(x);return(0,t.jsxs)("div",{ref:c,className:(0,N.cn)("relative",i),children:[(0,t.jsxs)(S.motion.button,{onClick:()=>!n&&d(!o),disabled:n,className:(0,N.cn)("flex items-center gap-2 px-3 py-1.5 rounded-lg","text-sm hover:bg-[#F5F5F5]","transition-all duration-150 ease-out","disabled:opacity-50 disabled:cursor-not-allowed","focus:outline-none"),style:{color:D[700]},whileTap:{scale:.98},children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:u?.color}}),(0,t.jsx)("span",{className:"font-medium",children:u?.name||"选择模型"}),(0,t.jsx)(S.motion.div,{animate:{rotate:180*!!o},transition:{duration:.2,ease:"easeOut"},children:(0,t.jsx)(_.ChevronDown,{className:"w-3.5 h-3.5 opacity-50"})})]}),(0,t.jsx)(F.AnimatePresence,{children:o&&(0,t.jsxs)(S.motion.div,{initial:{opacity:0,y:8,scale:.96},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:8,scale:.96},transition:{duration:.2,ease:"easeOut"},className:"absolute bottom-full left-0 mb-2 z-50",style:{width:"360px",maxHeight:"480px",borderRadius:"12px",boxShadow:"0 -8px 24px rgba(0,0,0,0.12)",backgroundColor:"#FFFFFF",border:`1px solid ${D[200]}`,overflow:"hidden"},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",style:{borderBottom:`1px solid ${D[200]}`},children:[(0,t.jsx)("span",{className:"text-xs font-medium",style:{color:D[600]},children:"选择模型"}),l&&(0,t.jsxs)("span",{className:"text-[10px]",style:{color:D[500]},children:["今日免费: ",l.total-l.used,"/",l.total]})]}),(0,t.jsx)("div",{className:"overflow-y-auto p-4 custom-scrollbar",style:{maxHeight:"420px"},children:m.map((s,r)=>(0,t.jsxs)("div",{children:["默认"!==s&&(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",style:{marginTop:r>0?"16px":"0"},children:[(0,t.jsx)("div",{className:"w-0.5 h-4 rounded-full",style:{backgroundColor:M}}),(0,t.jsx)("span",{className:"text-xs font-semibold uppercase",style:{color:D[600],letterSpacing:"0.5px"},children:s})]}),(0,t.jsx)("div",{className:"space-y-1",children:x[s].map(s=>(0,t.jsx)(z,{model:s,isSelected:e===s.key,onClick:()=>{a(s.key),d(!1)}},s.key))})]},s))})]})})]})}function z({model:e,isSelected:s,onClick:a}){let r=e.icon;return(0,t.jsxs)(S.motion.button,{onClick:a,className:(0,N.cn)("w-full flex items-center gap-3 rounded-lg cursor-pointer","transition-all duration-150 ease-out","focus:outline-none"),style:{height:"56px",padding:"12px 16px",backgroundColor:s?E:"transparent"},whileHover:{backgroundColor:s?E:D[100]},whileTap:{scale:.98},children:[(0,t.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg shrink-0",style:{backgroundColor:`${e.color}15`},children:(0,t.jsx)(r,{className:"h-4 w-4",style:{color:e.color}})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0 text-left",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm",style:{fontWeight:500,color:D[900]},children:e.name}),e.badge&&(0,t.jsx)(P,{text:e.badge})]}),e.description&&(0,t.jsx)("p",{className:"text-xs truncate mt-0.5",style:{fontWeight:400,color:D[600]},children:e.description})]}),s&&(0,t.jsx)(S.motion.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.15,ease:"easeOut"},children:(0,t.jsx)(C.Check,{className:"w-5 h-5 shrink-0",style:{color:M}})})]})}let q=(0,c.default)("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),W=(0,c.default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),G=(0,c.default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var B=e.i(13039);let L=(0,c.default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),H={格式判断:{label:"多模态意图识别",icon:q,triggerType:"thinking",runningTexts:["正在扫描文件元数据...","识别作业类型中...","分析输入格式..."],estimatedDuration:2},视觉提取:{label:"手写体结构化识别",icon:W,triggerType:"thinking",runningTexts:["正在提取笔迹特征...","正在进行文字转录...","识别手写字符中..."],estimatedDuration:5},数据清洗:{label:"OCR噪声过滤",icon:G,triggerType:"thinking",runningTexts:["正在校准文本行...","过滤识别噪声...","对齐段落结构..."],estimatedDuration:3},文档提取器:{label:"非结构化资源解析",icon:d.FileText,triggerType:"thinking",runningTexts:["解析文档结构...","提取文本内容...","识别格式元素..."],estimatedDuration:3},内容汇聚:{label:"上下文向量聚合",icon:L,triggerType:"thinking",runningTexts:["聚合上下文信息...","构建语义向量...","整合内容片段..."],estimatedDuration:2},"代码执行 4":{label:"语法逻辑校验",icon:B.Cpu,triggerType:"thinking",runningTexts:["正在验证语言学规则...","检查语法结构...","分析逻辑连贯性..."],estimatedDuration:4},总编辑:{label:"总编辑",icon:p,triggerType:"HANDOVER",hidden:!0},快速回复:{label:"快速回复",icon:m.Sparkles,triggerType:"FAST_TRACK",hidden:!0},直接回复:{label:"直接回复",icon:m.Sparkles,triggerType:"HANDOVER",hidden:!0},用户输入:{label:"用户输入",icon:q,triggerType:"hidden",hidden:!0},"条件分支 2":{label:"条件分支",icon:q,triggerType:"hidden",hidden:!0},"直接回复 6":{label:"直接回复",icon:q,triggerType:"hidden",hidden:!0},开始:{label:"开始",icon:q,triggerType:"hidden",hidden:!0},结束:{label:"结束",icon:q,triggerType:"hidden",hidden:!0}};function V(){return{nodes:[],currentNodeIndex:-1,isExpanded:!1,isThinking:!1,isGenerating:!1,isFastTrack:!1}}function U(e){return e.filter(e=>"completed"===e.status).length}function J(e){return e.find(e=>"running"===e.status)||null}let K=({label:e,status:s,icon:a,index:r})=>{let n="completed"===s,i="running"===s;return(0,t.jsxs)(S.motion.li,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{delay:.05*r,duration:.15},className:"flex items-center gap-2.5 py-1.5",children:[n?(0,t.jsx)("div",{className:"flex h-4 w-4 items-center justify-center rounded-full bg-emerald-500",children:(0,t.jsx)(C.Check,{className:"h-2.5 w-2.5 text-white",strokeWidth:3})}):i?(0,t.jsx)(S.motion.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"flex h-4 w-4 items-center justify-center",children:(0,t.jsx)(x.Loader2,{className:"h-3.5 w-3.5 text-emerald-600"})}):(0,t.jsx)("div",{className:"flex h-4 w-4 items-center justify-center",children:(0,t.jsx)(a,{className:"h-3.5 w-3.5 text-gray-300"})}),(0,t.jsx)("span",{className:(0,N.cn)("text-sm",n&&"text-gray-600",i&&"text-emerald-600 font-medium",!n&&!i&&"text-gray-400"),children:e})]})},X=({workflowState:e,isThinking:s,isGenerating:a,onToggle:r,currentRunningText:n,className:i})=>{let{nodes:l,isExpanded:o}=e,d=U(l),c=J(l);if(e.isFastTrack||!s&&!a&&0===l.length)return null;let u=(()=>{if(!e.startTime)return null;let t=Math.round((Date.now()-e.startTime)/1e3);return t<1?null:`${t}s`})();return(0,t.jsxs)(S.motion.div,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},className:(0,N.cn)("rounded-lg bg-gray-50 overflow-hidden",i),children:[(0,t.jsxs)("button",{onClick:r,className:"w-full flex items-center justify-between px-3 py-2 hover:bg-gray-100/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[s&&!a?(0,t.jsx)(S.motion.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"flex h-4 w-4 items-center justify-center",children:(0,t.jsx)(x.Loader2,{className:"h-3.5 w-3.5 text-emerald-600"})}):(0,t.jsx)("div",{className:"flex h-4 w-4 items-center justify-center rounded-full bg-emerald-500",children:(0,t.jsx)(C.Check,{className:"h-2.5 w-2.5 text-white",strokeWidth:3})}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:a?"已完成深度分析":n||(c?c.config.runningTexts?.[0]||`正在${c.config.label}...`:d>0?`已完成 ${d} 个分析步骤`:"正在分析中...")}),u&&s&&(0,t.jsx)("span",{className:"text-xs text-gray-400 ml-1",children:u})]}),(0,t.jsx)(S.motion.div,{animate:{rotate:180*!!o},transition:{duration:.2},children:(0,t.jsx)(_.ChevronDown,{className:"h-4 w-4 text-gray-400"})})]}),(0,t.jsx)(F.AnimatePresence,{initial:!1,children:o&&l.length>0&&(0,t.jsx)(S.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:"overflow-hidden",children:(0,t.jsx)("ul",{className:"px-3 pb-2.5 pt-1 space-y-0.5",children:l.map((e,s)=>(0,t.jsx)(K,{label:e.config.label,status:e.status,icon:e.config.icon,index:s},e.id))})})})]})},Z=({workflowState:e,isThinking:s,isGenerating:a,onToggle:r,currentRunningText:n,className:i})=>!e.isFastTrack&&(s||a||0!==e.nodes.length)?(0,t.jsx)(X,{workflowState:e,isThinking:s,isGenerating:a,onToggle:r,currentRunningText:n,className:i}):null;var Y=e.i(78254),Q=e.i(60313);let ee={standard:{category:"agent",tokenRate:10,displayName:"作文批改智能体",mode:"text",estimatedTokens:2e3},"teaching-pro":{category:"agent",tokenRate:10,displayName:"教学评智能助手",mode:"text",estimatedTokens:2500},"gpt-5":{category:"standalone",tokenRate:20,displayName:"ChatGPT 5.1",mode:"text",estimatedTokens:1500},"claude-opus":{category:"standalone",tokenRate:20,displayName:"Claude Opus 4.5",mode:"text",estimatedTokens:2e3},"gemini-pro":{category:"standalone",tokenRate:20,displayName:"Gemini 3.0 Pro",mode:"text",estimatedTokens:1500},"banana-2-pro":{category:"media",fixedCost:50,displayName:"Banana 2 Pro",mode:"image"},"suno-v5":{category:"media",fixedCost:100,displayName:"Suno V5",mode:"music"},"sora-2-pro":{category:"media",fixedCost:300,displayName:"Sora 2 Pro",mode:"video"}},et="#14532d",es=(0,Y.createClient)("https://rnujdnmxufmzgjvmddla.supabase.co","sb_publishable_J6ZjOA1cvNVJE0msWjvJEA_Y3MHr9LH"),ea=()=>(0,t.jsxs)("div",{className:"flex items-center gap-3 py-4 px-4 bg-slate-50 rounded-2xl",children:[(0,t.jsx)("div",{className:`relative flex h-8 w-8 items-center justify-center rounded-xl bg-[${et}]/10`,children:(0,t.jsx)(p,{className:`h-5 w-5 text-[${et}] animate-pulse`})}),(0,t.jsx)("span",{className:"text-sm text-slate-500 font-medium animate-pulse",children:"思考中..."})]}),er=({text:e})=>{if(!e)return null;let s=e.split(/(\*\*.*?\*\*)/g);return(0,t.jsx)(t.Fragment,{children:s.map((e,s)=>e.startsWith("**")&&e.endsWith("**")?(0,t.jsx)("strong",{className:`font-semibold text-[${et}]`,children:e.slice(2,-2)},s):(0,t.jsx)("span",{children:e},s))})},en=({lines:e})=>{if(e.length<2)return null;try{let s=e.find(e=>e.includes("|")&&!e.includes("---")),a=e.filter(e=>e.includes("|")&&!e.includes("---")&&e!==s);if(!s)return null;let r=s.split("|").filter(e=>e.trim()).map(e=>e.trim());return(0,t.jsx)("div",{className:"my-4 overflow-hidden rounded-xl border border-slate-100 bg-white",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-slate-100",children:[(0,t.jsx)("thead",{className:"bg-slate-50",children:(0,t.jsx)("tr",{children:r.map((e,s)=>(0,t.jsx)("th",{className:"px-4 py-2.5 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:e},s))})}),(0,t.jsx)("tbody",{className:"divide-y divide-slate-50",children:a.map((e,s)=>{let a=e.split("|").filter(e=>e.trim()).map(e=>e.trim());return(0,t.jsx)("tr",{className:"hover:bg-slate-50/50 transition-colors",children:a.map((e,s)=>(0,t.jsx)("td",{className:"px-4 py-2.5 text-sm text-slate-600",children:(0,t.jsx)(er,{text:e})},s))},s)})})]})})})}catch(e){return null}},ei=()=>(0,t.jsx)("span",{className:"streaming-cursor inline-block ml-1 text-emerald-500 animate-cursor-blink",children:"▍"});function el({content:e,isStreaming:s=!1}){if(!e)return(0,t.jsx)("span",{className:"text-emerald-500 animate-cursor-blink",children:"▍"});let a=e.split("\n"),r=[],n=[];for(let e=0;e<a.length;e++){let i=a[e],l=i.trim().startsWith("|")&&i.includes("|"),o=e===a.length-1;if(l){n.push(i),(o||!a[e+1].trim().startsWith("|"))&&(r.push((0,t.jsx)(en,{lines:n},`tbl-${e}`)),n=[]);continue}i.trim().startsWith("# ")?r.push((0,t.jsxs)("h1",{className:"mt-8 mb-4 text-xl font-bold text-slate-800",children:[i.replace(/^#\s+/,""),o&&s&&(0,t.jsx)(ei,{})]},e)):i.trim().startsWith("## ")?r.push((0,t.jsxs)("h2",{className:"mt-6 mb-3 text-lg font-semibold text-slate-700 flex items-center gap-2",children:[(0,t.jsx)("span",{className:`w-1 h-5 bg-[${et}] rounded-full`}),i.replace(/^##\s+/,""),o&&s&&(0,t.jsx)(ei,{})]},e)):i.trim().startsWith("### ")?r.push((0,t.jsxs)("h3",{className:`mt-5 mb-2 text-base font-semibold text-[${et}]`,children:[i.replace(/^###\s+/,""),o&&s&&(0,t.jsx)(ei,{})]},e)):i.trim().startsWith("- ")?r.push((0,t.jsxs)("div",{className:"flex gap-2.5 ml-1 my-2 text-[15px] text-slate-600 leading-relaxed",children:[(0,t.jsx)("div",{className:`mt-2 w-1.5 h-1.5 rounded-full bg-[${et}]/60 shrink-0`}),(0,t.jsxs)("span",{children:[(0,t.jsx)(er,{text:i.replace(/^- /,"")}),o&&s&&(0,t.jsx)(ei,{})]})]},e)):i.trim().startsWith("> ")?r.push((0,t.jsx)("blockquote",{className:`my-4 border-l-2 border-[${et}] bg-[${et}]/5 px-4 py-3 rounded-r-xl`,children:(0,t.jsxs)("div",{className:"text-[15px] text-slate-600 leading-relaxed",children:[(0,t.jsx)(er,{text:i.replace(/^> /,"")}),o&&s&&(0,t.jsx)(ei,{})]})},e)):"---"===i.trim()?r.push((0,t.jsx)("div",{className:"py-4",children:(0,t.jsx)("div",{className:"h-px bg-slate-100"})},e)):""===i.trim()?r.push((0,t.jsx)("div",{className:"h-3"},e)):r.push((0,t.jsxs)("p",{className:"text-[15px] leading-[1.8] text-slate-600 my-2",children:[(0,t.jsx)(er,{text:i}),o&&s&&(0,t.jsx)(ei,{})]},e))}return(0,t.jsx)("div",{className:"w-full",children:r})}function eo(){let e=(0,a.useSearchParams)(),c=(0,a.useRouter)(),C=e.get("id"),_=e.get("agent"),[M,E]=(0,s.useState)(""),[D,R]=(0,s.useState)(""),[$,A]=(0,s.useState)(0),I=(0,s.useRef)(null),[P,z]=(0,s.useState)(""),[q,W]=(0,s.useState)("standard"),[G,B]=(0,s.useState)("text"),[L,K]=(0,s.useState)(0),X=$>1e3,{workflowState:Y,isProcessing:er,isThinking:en,isGenerating:ei,isFastTrack:eo,showCursor:ed,handleSSEEvent:ec,resetWorkflow:eu,toggleExpanded:ex,getSummaryText:em,markWorkflowComplete:eh,currentRunningText:ep,triggerHandover:eg}=function(){let[e,t]=(0,s.useState)(V()),[a,r]=(0,s.useState)(!1),[n,i]=(0,s.useState)(""),[l,o]=(0,s.useState)(!1),d=(0,s.useRef)(new Set),c=(0,s.useRef)(null),u=(0,s.useRef)(!1),x=(0,s.useRef)(!1),m=(0,s.useCallback)(()=>{c.current&&(clearInterval(c.current),c.current=null)},[]);(0,s.useEffect)(()=>()=>{m()},[m]);let h=(0,s.useCallback)(e=>{c.current&&clearInterval(c.current),i(e.config.runningTexts?.[0]||`正在${e.config.label}...`),c.current=setInterval(()=>{t(e=>{var t,s;let a,r;if(e.isGenerating||e.isFastTrack)return e;let n=e.nodes.find(e=>"running"===e.status);if(!n)return e;let{text:l,nextIndex:o}=(t=n.config,s=n.currentTextIndex,r=(s+1)%(a=t.runningTexts||["处理中..."]).length,{text:a[s%a.length],nextIndex:r});return i(l),{...e,nodes:e.nodes.map(e=>e.id===n.id?{...e,currentTextIndex:o}:e)}})},2e3)},[]),p=(0,s.useCallback)(()=>{m(),i("")},[m]),g=(0,s.useCallback)(()=>{u.current||(u.current=!0,p(),o(!0),t(e=>({...e,nodes:e.nodes.map(e=>({...e,status:"completed",endTime:e.endTime||Date.now()})),isExpanded:!1,isThinking:!1,isGenerating:!0,isFastTrack:!1})))},[p]),f=(0,s.useCallback)(()=>{x.current||(x.current=!0,p(),o(!0),t(e=>({...e,nodes:[],isExpanded:!1,isThinking:!1,isGenerating:!0,isFastTrack:!0})))},[p]),y=(0,s.useCallback)(e=>{let{event:s,data:a}=e;if("workflow_started"===s){r(!0),d.current.clear(),u.current=!1,x.current=!1,o(!1),t({nodes:[],currentNodeIndex:-1,isExpanded:!1,startTime:Date.now(),isThinking:!0,isGenerating:!1,isFastTrack:!1});return}if("workflow_finished"===s){r(!1),p(),t(e=>({...e,nodes:e.nodes.map(e=>({...e,status:"completed",endTime:e.endTime||Date.now()})),isThinking:!1}));return}if("node_started"===s&&a?.title){let e,s,r,n,i=a.title;if(e=H[i],e?.triggerType==="FAST_TRACK")return void f();if(s=H[i],s?.triggerType==="HANDOVER")return void g();if(r=H[i],r?.hidden===!0||r?.triggerType==="hidden"||u.current||x.current||(n=H[i],n?.triggerType!=="thinking"||n?.hidden))return;let l=`${i}-${a.node_id||""}`;if(d.current.has(l))return;d.current.add(l);let o=H[i]||null;if(!o)return;let c={id:`node-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,originalName:i,config:o,status:"running",startTime:Date.now(),currentTextIndex:0};return t(e=>{let t=e.nodes.map(e=>({...e,status:"running"===e.status?"completed":e.status,endTime:"running"===e.status?Date.now():e.endTime}));return{...e,nodes:[...t,c],currentNodeIndex:t.length,isThinking:!0}}),void h(c)}if("node_finished"===s&&a?.title){let e=a.title;t(t=>({...t,nodes:t.nodes.map(t=>t.originalName===e?{...t,status:"completed",endTime:Date.now()}:t)}));return}if("error"===s){console.error("❌ [Error] 工作流错误"),r(!1),p(),t(e=>({...e,nodes:e.nodes.map(e=>({...e,status:"running"===e.status||"preparing"===e.status?"error":e.status})),isThinking:!1,isGenerating:!1}));return}},[h,p,g,f]),b=(0,s.useCallback)(()=>{r(!1),p(),d.current.clear(),u.current=!1,x.current=!1,o(!1),t(V())},[p]),j=(0,s.useCallback)(()=>{t(e=>({...e,isExpanded:!e.isExpanded}))},[]),k=(0,s.useCallback)(()=>{let t,s,{nodes:a,isThinking:r,isGenerating:n}=e;return t=U(a),s=J(a),n?"已完成深度分析":s?s.config.runningTexts?.[0]||`正在${s.config.label}...`:r&&0===t?"正在解析文档结构...":t>0?`已完成 ${t} 个分析步骤`:"准备分析中..."},[e]),v=(0,s.useCallback)(()=>{r(!1),p(),t(e=>({...e,nodes:e.nodes.map(e=>({...e,status:"completed",endTime:e.endTime||Date.now()})),isThinking:!1,isGenerating:!1}))},[p]);return{workflowState:e,isProcessing:a,isThinking:e.isThinking,isGenerating:e.isGenerating,isFastTrack:e.isFastTrack,showCursor:l,handleSSEEvent:y,resetWorkflow:b,toggleExpanded:j,getSummaryText:k,markWorkflowComplete:v,currentRunningText:n,triggerHandover:g,triggerFastTrack:f}}();(0,s.useEffect)(()=>{{let e=localStorage.getItem("currentUser");if(e)try{let t=JSON.parse(e),s=t.id||t.sub||t.userId||"";E(s),t.user_metadata?.avatar_url&&R(t.user_metadata.avatar_url),s&&ef(s)}catch(e){console.error("❌ [用户初始化] 解析失败:",e)}else console.warn("⚠️ [用户初始化] localStorage 中无 currentUser")}},[]);let ef=async e=>{let{data:t,error:s}=await es.from("user_credits").select("credits").eq("user_id",e).single();s?console.error("❌ [积分查询] 失败:",s):t?A(t.credits):console.warn("⚠️ [积分查询] 无数据")};(0,s.useEffect)(()=>{C&&C!==P&&eb(C)},[C]);let ey=(0,s.useRef)(null);(0,s.useEffect)(()=>{_!==ey.current&&(ey.current=_,W(_&&({"teaching-pro":"teaching-pro",standard:"standard"})[_]||"standard"),B("text"),C||(ek([]),I.current=null,z("")))},[_,C]);let eb=async e=>{eT(!0),ek([]);try{let{data:t,error:s}=await es.from("chat_messages").select("*").eq("session_id",e).order("created_at",{ascending:!0});if(s)throw s;if(t&&t.length>0){let s=t.map(e=>({id:e.id,role:e.role,content:e.content}));ek(s),z(e),I.current=e}}catch(e){console.error("加载历史会话失败:",e),T.toast.error("加载历史会话失败")}finally{eT(!1)}},[ej,ek]=(0,s.useState)([]),[ev,ew]=(0,s.useState)(""),[eN,eT]=(0,s.useState)(!1),[eC,e_]=(0,s.useState)([]),[eS,eF]=(0,s.useState)({status:"idle",progress:0,message:""}),[eM,eE]=(0,s.useState)(!1),[eD,eR]=(0,s.useState)(0),e$=(0,s.useRef)(null),eA=(0,s.useRef)(null),eI=(0,s.useRef)(null),eP=(0,s.useRef)(null),[eO,ez]=(0,s.useState)(!0),[eq,eW]=(0,s.useState)(!1);(0,s.useEffect)(()=>{eO?eA.current?.scrollIntoView({behavior:"smooth"}):ej.length>0&&eW(!0)},[ej,eO]),(0,s.useEffect)(()=>{eN&&eM&&eD<4&&setTimeout(()=>eR(e=>Math.min(e+1,4)),2e3)},[eN,eD,eM]);let eG={standard:{name:"作文批改",icon:m.Sparkles,color:et,description:"专业作文分析与点评",badge:"推荐",group:"教育专用"},"teaching-pro":{name:"教学评助手",icon:p,color:"#7c3aed",description:"教学评估与反馈",group:"教育专用"},"gpt-5":{name:"ChatGPT 5.1",icon:y,color:"#16a34a",description:"通用智能对话",badge:"新",group:"通用模型"},"claude-opus":{name:"Claude Opus 4.5",icon:y,color:"#ea580c",description:"深度推理与分析",group:"通用模型"},"gemini-pro":{name:"Gemini 3.0 Pro",icon:m.Sparkles,color:"#2563eb",description:"多模态理解",group:"通用模型"},"banana-2-pro":{name:"Banana 2 Pro",icon:j,color:"#ca8a04",description:"AI 图像生成",badge:"热门",group:"创意生成"},"suno-v5":{name:"Suno V5",icon:k,color:"#db2777",description:"AI 音乐创作",group:"创意生成"},"sora-2-pro":{name:"Sora 2 Pro",icon:b,color:"#4f46e5",description:"AI 视频生成",badge:"Pro",group:"创意生成"}},eB=Object.entries(eG).map(([e,t])=>({key:e,name:t.name,icon:t.icon,color:t.color,description:t.description,badge:t.badge,group:t.group})),eL=async e=>{let t=e.target.files;if(t&&t.length){if(!M)return void T.toast.error("请先登录后再上传文件");eF({status:"uploading",progress:0,message:"正在处理..."});try{let e=Array.from(t).map(async e=>{let t=new FormData;t.append("file",e),t.append("user",M);let s=await fetch("/api/dify-upload",{method:"POST",headers:{"X-User-Id":M},body:t});if(!s.ok){let e=await s.text();throw Error(`上传失败: ${s.status} ${e}`)}let a=await s.json();return new Promise(t=>{if(e.type.startsWith("image/"))t({name:e.name,type:e.type,size:e.size,data:"",difyFileId:a.id,preview:URL.createObjectURL(e)});else{let s=new FileReader;s.onload=s=>t({name:e.name,type:e.type,size:e.size,data:s.target?.result,difyFileId:a.id,preview:void 0}),s.readAsDataURL(e)}})}),s=await Promise.all(e);e_(e=>[...e,...s]),eF({status:"idle",progress:100,message:"完成"}),setTimeout(()=>eF({status:"idle",progress:0,message:""}),1e3)}catch(e){console.error("上传错误:",e),T.toast.error("上传失败"),eF({status:"error",progress:0,message:"上传失败"})}e$.current&&(e$.current.value="")}},eH=async e=>{if(e.preventDefault(),!M)return void T.toast.error("请登录");let t=(ev||"").trim();if(!t&&!eC.length)return;let s=(()=>{if(!M)return 0;var e={isLuxury:X,estimatedInputTokens:ev.length>0?2*Math.ceil(ev.length/4):void 0};let t=ee[q];return t?"media"===t.category&&t.fixedCost?Math.ceil(t.fixedCost/.4):Math.ceil((e?.estimatedInputTokens||t.estimatedTokens||1500)/1e3*(t.tokenRate||10)):(console.warn(`[Pricing] 未知模型: ${q}，使用默认价格`),20)})();if($<s){T.toast.error("积分不足",{description:`需要 ${s} 积分，当前 ${$}`,duration:2e3}),setTimeout(()=>{c.push("/pricing")},1500);return}eF({status:"idle",progress:0,message:""}),eT(!0),eR(0),eE(eC.length>0||t.length>150),eu(),(0,Q.collapseSidebar)();let a=P;a||C?C&&(a=C,I.current=C):(z(a=Date.now().toString()),I.current=a);let r={id:Date.now().toString(),role:"user",content:t||"批改作文"};ek(e=>[...e,r]),ew(""),e_([]);let n=r.content.slice(0,30),{data:i}=await es.from("chat_sessions").select("id").eq("id",a).single();i?await es.from("chat_sessions").update({preview:n}).eq("id",a):await es.from("chat_sessions").insert({id:a,user_id:M,title:r.content.slice(0,10)||"作文",preview:n}),await es.from("chat_messages").insert({session_id:a,role:"user",content:r.content});let l=(Date.now()+1).toString();ek(e=>[...e,{id:l,role:"assistant",content:""}]);let o="",d=!1;try{let e=eC.map(e=>e.difyFileId).filter(Boolean),t=await fetch("/api/dify-chat",{method:"POST",headers:{"Content-Type":"application/json","X-User-Id":M},body:JSON.stringify({query:r.content,fileIds:e,userId:M,conversation_id:I.current,model:q,mode:G})});if(402===t.status)throw Error("积分不足");if(!t.ok)throw Error("请求失败");let n=t.body?.getReader(),i=new TextDecoder,c="";for(;;){let{done:e,value:t}=await n.read();if(e)break;let s=(c+=i.decode(t,{stream:!0})).split("\n");for(let e of(c=s.pop()||"",s)){if(!e.startsWith("data: "))continue;let t=e.slice(6).trim();if("[DONE]"!==t)try{let e=JSON.parse(t);e.event&&ec({event:e.event,data:{node_id:e.node_id,title:e.title,status:e.status,workflow_run_id:e.workflow_run_id}}),e.conversation_id&&I.current!==e.conversation_id&&(I.current=e.conversation_id),e.answer&&(d||eR(4),d=!0,o+=e.answer,ek(e=>e.map(e=>e.id===l?{...e,content:o}:e)))}catch{}}}d&&await es.from("chat_messages").insert({session_id:a,role:"assistant",content:o}),A(e=>e-s),"standard"!==q&&!X&&L<20&&K(e=>e+1)}catch(e){T.toast.error(e.message||"出错了"),ek(e=>e.filter(e=>e.id!==l))}finally{eT(!1),eh(),M&&ef(M),(0,Q.refreshCredits)(),c.refresh(),"text"!==G&&(B("text"),W("standard"))}};return(0,t.jsx)("div",{className:"flex h-screen w-full bg-white overflow-hidden relative",children:(0,t.jsxs)("div",{className:"flex flex-1 flex-col h-full relative min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center h-14 px-4 border-b border-slate-100 bg-white shrink-0",children:[(0,t.jsxs)("button",{onClick:()=>{c.push("/")},className:"flex items-center gap-1 text-slate-600 hover:text-slate-800 transition-colors",children:[(0,t.jsx)(f,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"返回"})]}),(0,t.jsx)("div",{className:"flex-1 text-center md:text-left md:ml-4",children:(0,t.jsx)("span",{className:"text-sm font-medium text-slate-700",children:eG[q].name})}),(0,t.jsx)("div",{className:"w-16 md:hidden"})]}),(0,t.jsxs)("div",{className:"flex-1 h-0 relative overflow-hidden",children:[(0,t.jsx)("div",{ref:eP,onScroll:()=>{if(eP.current){let{scrollTop:e,scrollHeight:t,clientHeight:s}=eP.current,a=t-e-s<100;ez(a),a&&eW(!1)}},className:"h-full overflow-y-auto custom-scrollbar",children:(0,t.jsx)("div",{className:"mx-auto max-w-3xl px-4 md:px-6 lg:px-10 py-6 md:py-8",children:0===ej.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 md:py-16 text-center animate-in fade-in duration-500",children:[(0,t.jsx)("div",{className:"mb-6 flex h-14 w-14 items-center justify-center rounded-2xl",style:{backgroundColor:`${et}15`},children:(0,t.jsx)(w.GraduationCap,{className:"h-7 w-7",style:{color:et}})}),(0,t.jsx)("h1",{className:"text-xl font-semibold text-slate-800",children:"欢迎使用沈翔智学"})]}):(0,t.jsxs)("div",{className:"space-y-6 pt-4",children:[ej.map(e=>(0,t.jsxs)("div",{className:(0,N.cn)("flex gap-3","user"===e.role?"justify-end":"justify-start"),children:["assistant"===e.role&&(0,t.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-xl text-white mt-1",style:{backgroundColor:et},children:(0,t.jsx)(m.Sparkles,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:(0,N.cn)("relative rounded-2xl px-4 py-3","user"===e.role?"text-white max-w-[75%]":"bg-slate-50 w-full max-w-full"),style:"user"===e.role?{backgroundColor:et}:{},children:["user"===e.role?(0,t.jsx)("div",{className:"whitespace-pre-wrap text-[15px] leading-relaxed",children:e.content}):(0,t.jsxs)(t.Fragment,{children:[(er||Y.nodes.length>0)&&(0,t.jsx)(Z,{workflowState:Y,isThinking:en,isGenerating:ei,onToggle:ex,currentRunningText:ep,className:"mb-4"}),!eN||e.content||eo?(0,t.jsx)(el,{content:e.content,isStreaming:ed&&eN}):(0,t.jsx)(ea,{})]}),"assistant"===e.role&&e.content&&(0,t.jsx)("div",{className:"mt-4 flex items-center justify-end border-t border-slate-100 pt-3",children:(0,t.jsxs)(r.Button,{variant:"ghost",size:"sm",className:"h-7 gap-1.5 text-xs text-slate-400 hover:bg-slate-100",style:{"--hover-color":et},onClick:()=>navigator.clipboard.writeText(e.content).then(()=>T.toast.success("已复制")),children:[(0,t.jsx)(u,{className:"h-3 w-3"})," 复制"]})})]}),"user"===e.role&&(0,t.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-xl bg-slate-200 mt-1 overflow-hidden",children:D?(0,t.jsx)("img",{src:D,alt:"Me",className:"h-full w-full object-cover"}):(0,t.jsx)(h,{className:"h-4 w-4 text-slate-500"})})]},e.id)),(0,t.jsx)("div",{ref:eA})]})})}),(0,t.jsx)(F.AnimatePresence,{children:eq&&(0,t.jsxs)(S.motion.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},onClick:()=>{eA.current?.scrollIntoView({behavior:"smooth"}),eW(!1)},className:"absolute bottom-4 left-1/2 -translate-x-1/2 px-4 py-2 text-white text-sm rounded-full shadow-lg flex items-center gap-2 hover:opacity-90 transition-all",style:{backgroundColor:et},children:[(0,t.jsx)(v,{className:"w-4 h-4"}),"新消息"]})})]}),(0,t.jsx)("div",{className:"border-t border-slate-100 bg-white p-3 md:p-6 shrink-0 z-20",children:(0,t.jsxs)("div",{className:"mx-auto max-w-3xl",children:["idle"!==eS.status&&(0,t.jsx)("div",{className:"mb-3 rounded-xl bg-slate-50 p-3 animate-in slide-in-from-bottom-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["error"===eS.status?(0,t.jsx)(g.AlertCircle,{className:"h-4 w-4 text-red-500"}):(0,t.jsx)(x.Loader2,{className:"h-4 w-4 animate-spin",style:{color:et}}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:eS.message})]})}),eC.length>0&&(0,t.jsx)("div",{className:"mb-3 flex flex-wrap gap-2",children:eC.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-lg bg-slate-50 px-3 py-1.5 text-sm",children:[(0,t.jsx)(d.FileText,{className:"h-4 w-4",style:{color:et}}),(0,t.jsx)("span",{className:"max-w-[100px] truncate text-slate-600",children:e.name}),(0,t.jsx)("button",{onClick:()=>e_(e=>e.filter((e,t)=>t!==s)),className:"text-slate-400 hover:text-red-500",children:(0,t.jsx)(o.X,{className:"h-3.5 w-3.5"})})]},s))}),(0,t.jsxs)("form",{onSubmit:eH,className:"relative rounded-[24px] bg-white shadow-[0_2px_8px_rgba(0,0,0,0.04),0_8px_24px_rgba(0,0,0,0.08),0_16px_48px_rgba(0,0,0,0.08),0_24px_64px_rgba(0,0,0,0.06),0_32px_80px_rgba(0,0,0,0.04)] border border-slate-100 transition-all duration-300 ease-[cubic-bezier(0.32,0.72,0,1)] focus-within:shadow-[0_4px_12px_rgba(0,0,0,0.06),0_12px_32px_rgba(0,0,0,0.12),0_20px_56px_rgba(0,0,0,0.12),0_28px_72px_rgba(0,0,0,0.08),0_36px_88px_rgba(0,0,0,0.06)]",style:{"--focus-border":`${et}33`},children:[(0,t.jsx)("div",{className:"flex items-center px-3 py-2 border-b border-slate-50",children:(0,t.jsx)(O,{selectedModel:q,onModelChange:e=>(e=>{if(e!==q&&(I.current=null,z(""),ek([])),"standard"!==e&&(X?T.toast.success(`已切换至 ${eG[e].name}`):L<20?T.toast.info(`已切换至 ${eG[e].name}`,{description:`今日免费: ${L}/20`}):T.toast.warning(`今日免费额度已用完`)),"banana-2-pro"===e?B("image"):"suno-v5"===e?B("music"):"sora-2-pro"===e?B("video"):B("text"),W(e),"standard"===e||"teaching-pro"===e){let t="standard"===e?"/chat":`/chat?agent=${e}`;c.push(t,{scroll:!1})}(""===ev||ev.startsWith("生成"))&&ew("")})(e),models:eB,disabled:eN,dailyFreeInfo:{used:L,total:20}})}),(0,t.jsxs)("div",{className:"flex items-end gap-2 p-3",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1 shrink-0",children:[(0,t.jsx)("span",{className:"text-[10px] font-medium text-slate-400",children:"文件上传"}),(0,t.jsx)(r.Button,{type:"button",variant:"ghost",size:"icon",className:"h-10 w-10 rounded-xl text-slate-400 hover:bg-slate-50",onClick:()=>e$.current?.click(),disabled:eN,children:(0,t.jsx)(l.Paperclip,{className:"h-5 w-5"})})]}),(0,t.jsx)("input",{ref:e$,type:"file",className:"hidden",accept:"image/*,.txt,.doc,.docx,.pdf",multiple:!0,onChange:eL}),(0,t.jsx)(n.Textarea,{ref:eI,value:ev,onChange:e=>ew(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),eH(e))},placeholder:M?"输入内容开始对话...":"请先登录...",className:"min-h-[48px] max-h-[160px] flex-1 resize-none border-0 bg-transparent p-2 text-[15px] text-slate-700 placeholder:text-slate-400 focus-visible:ring-0 leading-relaxed",disabled:eN,rows:1}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1 shrink-0",children:[(0,t.jsx)("span",{className:"text-[10px] font-medium text-slate-400",children:"发送"}),(0,t.jsx)(r.Button,{type:"submit",size:"icon",className:"h-10 w-10 rounded-xl text-white shadow-[0_4px_12px_rgba(20,83,45,0.3)] hover:opacity-90 transition-all disabled:opacity-40",style:{backgroundColor:et},disabled:eN||!ev.trim()&&0===eC.length,children:eN?(0,t.jsx)(x.Loader2,{className:"h-5 w-5 animate-spin"}):(0,t.jsx)(i.Send,{className:"h-5 w-5"})})]})]})]}),!M&&(0,t.jsx)("p",{className:"mt-3 text-center text-xs text-slate-400",children:"未登录"})]})})]})})}function ed(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"flex h-screen w-full items-center justify-center bg-white",children:(0,t.jsx)(x.Loader2,{className:"h-6 w-6 animate-spin",style:{color:et}})}),children:(0,t.jsx)(eo,{})})}e.s(["EnhancedChatInterface",()=>ed],13019)},95174,e=>{e.n(e.i(13019))}]);