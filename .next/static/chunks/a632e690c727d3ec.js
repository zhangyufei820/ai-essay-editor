(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var a=e.i(62893),t=e.i(47163);function s({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function l({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...s})}function n({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...s})}function d({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>n,"CardHeader",()=>r,"CardTitle",()=>l])},10708,e=>{"use strict";var a=e.i(62893),t=e.i(58846),s=e.i(69756),r=t.forwardRef((e,t)=>(0,a.jsx)(s.Primitive.label,{...e,ref:t,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));r.displayName="Label";var l=e.i(47163);function n({className:e,...t}){return(0,a.jsx)(r,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}e.s(["Label",()=>n],10708)},75124,e=>{"use strict";var a=e.i(62893),t=e.i(58846),s=e.i(78824),r=e.i(67881),l=e.i(23750),n=e.i(10708),d=e.i(70065);let i=(0,e.i(10965).default)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);function c(){let e=(0,s.useRouter)(),c=(0,s.useSearchParams)(),[o,u]=(0,t.useState)(""),[m,x]=(0,t.useState)(""),[h,p]=(0,t.useState)(!1),[f,g]=(0,t.useState)(""),j=c.get("redirect")||"/chat";(0,t.useEffect)(()=>{let a=c.get("phone");a?u(a):e.push("/auth/phone-login")},[c,e]);let b=async a=>{a.preventDefault(),g(""),p(!0);try{let a=await fetch("/api/auth/complete-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:o,displayName:m})}),t=await a.json();if(!a.ok)throw Error(t.error||"ä¿å­˜å¤±è´¥");e.push(j)}catch(e){g(e.message)}finally{p(!1)}};return(0,a.jsxs)(d.Card,{className:"w-full max-w-md",children:[(0,a.jsxs)(d.CardHeader,{className:"text-center space-y-2",children:[(0,a.jsx)("div",{className:"mx-auto flex h-14 w-14 items-center justify-center rounded-full bg-green-100",children:(0,a.jsx)(i,{className:"h-7 w-7 text-green-600"})}),(0,a.jsx)(d.CardTitle,{className:"text-2xl",children:"å®Œå–„ä¸ªäººä¿¡æ¯"}),(0,a.jsx)(d.CardDescription,{children:"æ¬¢è¿ŽåŠ å…¥æ²ˆç¿”æ™ºå­¦ï¼"})]}),(0,a.jsx)(d.CardContent,{children:(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"displayName",children:"æ˜µç§°"}),(0,a.jsx)(l.Input,{id:"displayName",type:"text",placeholder:"ç»™è‡ªå·±èµ·ä¸ªåå­—",value:m,onChange:e=>x(e.target.value),maxLength:20,className:"h-11",autoFocus:!0,required:!0})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-green-50 border border-green-200 p-4 space-y-2",children:[(0,a.jsx)("p",{className:"font-medium text-green-900",children:"ðŸŽ æ–°ç”¨æˆ·ç¦åˆ©"}),(0,a.jsxs)("ul",{className:"text-sm text-green-700 space-y-1",children:[(0,a.jsx)("li",{children:"âœ“ æ³¨å†Œå³é€1000ç§¯åˆ†"}),(0,a.jsx)("li",{children:"âœ“ å…è´¹ä½“éªŒAIå¯¹è¯"}),(0,a.jsx)("li",{children:"âœ“ å…è´¹ä½œæ–‡æ‰¹æ”¹"})]})]}),f&&(0,a.jsx)("div",{className:"rounded-lg bg-red-50 border border-red-200 p-3 text-sm text-red-600",children:f}),(0,a.jsx)(r.Button,{type:"submit",disabled:h||!m.trim(),className:"w-full",size:"lg",children:h?"ä¿å­˜ä¸­...":"å¼€å§‹ä½¿ç”¨"})]})})]})}function o(){return(0,a.jsxs)(d.Card,{className:"w-full max-w-md",children:[(0,a.jsxs)(d.CardHeader,{className:"text-center space-y-2",children:[(0,a.jsx)("div",{className:"mx-auto flex h-14 w-14 items-center justify-center rounded-full bg-slate-100 animate-pulse"}),(0,a.jsx)("div",{className:"h-8 bg-slate-100 rounded w-1/2 mx-auto animate-pulse"}),(0,a.jsx)("div",{className:"h-4 bg-slate-100 rounded w-2/3 mx-auto animate-pulse"})]}),(0,a.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"h-11 bg-slate-100 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-24 bg-slate-100 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-11 bg-slate-100 rounded animate-pulse"})]})]})}function u(){return(0,a.jsx)("div",{className:"flex min-h-screen w-full items-center justify-center p-4 bg-gradient-to-br from-green-50 to-blue-50",children:(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)(o,{}),children:(0,a.jsx)(c,{})})})}e.s(["default",()=>u],75124)}]);